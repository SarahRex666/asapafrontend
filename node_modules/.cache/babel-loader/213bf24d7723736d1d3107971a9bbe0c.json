{"ast":null,"code":"import _defineProperty from\"/Users/salvatore/Desktop/Last Time/Final-Project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/salvatore/Desktop/Last Time/Final-Project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/salvatore/Desktop/Last Time/Final-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Navigate,useNavigate}from\"react-router-dom\";import ProfileCard from\"./ProfileCard\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import FormContainer from\"./FormContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(_ref){var currentUser=_ref.currentUser,setCurrentUser=_ref.setCurrentUser;var navigate=useNavigate();var _useState=useState({first_name:\"\",last_name:\"\",address:\"\",phone:\"\"}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];useEffect(function(){fetch(\"https://final-project-asapa.herokuapp.com/me\").then(function(response){return response.json();}).then(function(data){return setFormState(data);});},[]);var handleChange=function handleChange(e){setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},e.target.id,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();fetch(\"/users/\".concat(currentUser.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formState)}).then(function(r){return r.json();}).then(setFormState(\"\")).then(navigate(\"/\"));};return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"PROFILE\"}),/*#__PURE__*/_jsx(ProfileCard,{setCurrentUser:setCurrentUser,currentUser:currentUser}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit your personal info:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,{className:\"w-50\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"first_name\",defaultValue:currentUser.first_name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"last_name\",defaultValue:currentUser.last_name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{children:\"Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"address\",defaultValue:currentUser.address,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{children:\"Phone Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"phone\",defaultValue:currentUser.phone,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",class:\"btn btn-secondary\",type:\"submit\",id:\"submit\",value:\"Submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useState","Navigate","useNavigate","ProfileCard","Button","Form","FormContainer","Profile","currentUser","setCurrentUser","navigate","first_name","last_name","address","phone","formState","setFormState","fetch","then","response","json","data","handleChange","e","target","id","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","r"],"sources":["/Users/salvatore/Desktop/Last Time/Final-Project/client/src/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport ProfileCard from \"./ProfileCard\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport FormContainer from \"./FormContainer\";\n\nfunction Profile({ currentUser, setCurrentUser }) {\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n\n  useEffect(() => {\n    fetch(`https://final-project-asapa.herokuapp.com/me`)\n      .then((response) => response.json())\n      .then((data) => setFormState(data));\n  }, []);\n\n  const handleChange = (e) => {\n    setFormState({\n      ...formState,\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(`/users/${currentUser.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formState),\n    })\n      .then((r) => r.json())\n      .then(setFormState(\"\"))\n      .then(navigate(\"/\"));\n  };\n\n  return (\n    <div class=\"container\">\n      <br></br>\n      <br></br>\n      <h1>PROFILE</h1>\n      <ProfileCard setCurrentUser={setCurrentUser} currentUser={currentUser} />\n      <br></br>\n      <br></br>\n      <h3>Edit your personal info:</h3>\n      <br></br>\n      <Form className=\"w-50\" onSubmit={handleSubmit}>\n        <Form.Group>\n          <Form.Label>First Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            id=\"first_name\"\n            defaultValue={currentUser.first_name}\n            onChange={handleChange}\n          />\n          <br></br>\n          <Form.Label>Last Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            id=\"last_name\"\n            defaultValue={currentUser.last_name}\n            onChange={handleChange}\n          />\n          <br></br>\n          <Form.Label>Address</Form.Label>\n          <Form.Control\n            type=\"text\"\n            id=\"address\"\n            defaultValue={currentUser.address}\n            onChange={handleChange}\n          />\n          <br></br>\n          <Form.Label>Phone Number</Form.Label>\n          <Form.Control\n            type=\"text\"\n            id=\"phone\"\n            defaultValue={currentUser.phone}\n            onChange={handleChange}\n          />\n          <br></br>\n        </Form.Group>\n        <Button\n          variant=\"outline-secondary\"\n          class=\"btn btn-secondary\"\n          type=\"submit\"\n          id=\"submit\"\n          value=\"Submit\"\n        >\n          Submit\n        </Button>\n        <br></br>\n        <br></br>\n      </Form>\n    </div>\n  );\n}\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}